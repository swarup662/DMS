@using DMS.COMMON.Models
@using DMS.UI.Controllers
@using DMS.UI.Helper
@inject MenuController MenuController
@inject IHttpContextAccessor HttpContextAccessor
@{
    
    var path = HttpContextAccessor.HttpContext.Request.Path.Value;

    if (!path.Contains("/Home/Error", StringComparison.OrdinalIgnoreCase))
    {
        bool tokenValid = TokenHelper.IsTokenValid(HttpContextAccessor.HttpContext);

        if (tokenValid)
        {
            TempData["message"] = "Welcome";
            TempData["messagetype"] = "success";
            HttpContextAccessor.HttpContext.Response.Redirect("/Home/UserDashboard");
        }
    }
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Log In | DMS - Document Management</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="A fully featured admin theme which can be used to build CRM, CMS, etc." name="description" />
    <meta content="Coderthemes" name="author" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- App favicon -->
    <link rel="shortcut icon" href="~/assets/images/favicon.ico">

    <!-- Bootstrap css -->
    <link href="~/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <!-- App css -->
    <link href="~/assets/css/app.min.css" rel="stylesheet" type="text/css" id="app-style" />
    <!-- icons -->
    <link href="~/assets/css/icons.min.css" rel="stylesheet" type="text/css" />
    <!-- Head js -->
    <script src="~/assets/js/head.js"></script>

</head>
<body>
    <div>
        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>
    <!-- Vendor js -->
    <script src="~/assets/js/vendor.min.js"></script>

    <!-- App js -->
    <script src="~/assets/js/app.min.js"></script>

    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
